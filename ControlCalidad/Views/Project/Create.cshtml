@model ControlCalidad.Models.Proyecto
@*  {
        ViewBag.Title = "Create";
    }
*@

@{

    if (User.IsInRole("Jefe"))
    {
        <h3 class="text-grey">Crear nuevo proyecto</h3>
        <div class="margin-b1">
            <hr />
        </div>


        <div class="row container">
            <div class="col s8 offset-s2">
                <div class="card hoverable">
                    <nav>
                        <div class="nav-wrapper black">
                            <p class="col s4">Quality Expert S.A</p>
                        </div>
                    </nav>
                    <div class="margin-b section">

                    </div>
                    @using (Html.BeginForm())
                    {

                        <h5 class="text-grey col s10 offset-s3">Crear nuevo proyecto</h5>
                        @Html.AntiForgeryToken()

                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">
                                <i class="p-size material-icons text-grey prefix">person</i>

                                @Html.LabelFor(model => model.cedulaClienteFK, htmlAttributes: new { @class = "control-label col-md-2" })

                                @Html.EditorFor(model => model.cedulaClienteFK, new { htmlAttributes = new { @class = "form-control" } })

                                @Html.ValidationMessageFor(model => model.cedulaClienteFK, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">

                                <i class="p-size text-grey material-icons prefix">person</i>
                                @Html.LabelFor(model => model.nombre, htmlAttributes: new { @class = "control-label col-md-2" })

                                @Html.EditorFor(model => model.nombre, new { htmlAttributes = new { @class = "form-control" } })

                                @Html.ValidationMessageFor(model => model.nombre, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">

                                <i class="p-size material-icons text-grey prefix">assignment</i>
                                @Html.LabelFor(model => model.objetivo, htmlAttributes: new { @class = "control-label col-md-2" })

                                @Html.EditorFor(model => model.objetivo, new { htmlAttributes = new { @class = "form-control" } })

                                @Html.ValidationMessageFor(model => model.objetivo, "", new { @class = "text-danger" })

                            </div>
                        </div>


                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">
                                <i class="p-size material-icons text-grey prefix">date_range</i>
                                <label for="fechaInicio">fecha de inicio</label>
                                <input type="text" class="datepicker" id="fechaInicio" name="fechaInicio" />

                                @Html.ValidationMessageFor(model => model.fechaInicio, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">
                                <i class="p-size material-icons text-grey prefix">date_range</i>
                                <label for="fechaFin">fecha de finalización</label>
                                <input type="text" class="datepicker" id="fechaFin" name="fechaFin" />

                                @Html.ValidationMessageFor(model => model.fechaFin, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3" data-target="dropdownCreate">
                                <i class="p-size material-icons text-grey prefix">info</i>
                                <select name="estado">
                                    <option value="" disabled selected>Estado del proyecto</option>
                                    <option value="Inactivo">Inactivo</option>
                                    <option value="Activo">Activo</option>
                                </select>

                                @Html.ValidationMessageFor(model => model.estado, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">
                                <i class="p-size material-icons text-grey prefix">hourglass_empty</i>
                                @Html.LabelFor(model => model.duracionEstimada, htmlAttributes: new { @class = "control-label col-md-2" })

                                @Html.EditorFor(model => model.duracionEstimada, new { htmlAttributes = new { @class = "form-control" } })

                                @Html.ValidationMessageFor(model => model.duracionEstimada, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row margin-b">
                            <div class="input-field col s6 offset-s3">
                                <i class="p-size material-icons text-grey prefix">hourglass_full</i>

                                @Html.LabelFor(model => model.duracionReal, htmlAttributes: new { @class = "control-label col-md-2" })

                                @Html.EditorFor(model => model.duracionReal, new { htmlAttributes = new { @class = "form-control" } })

                                @Html.ValidationMessageFor(model => model.duracionReal, "", new { @class = "text-danger" })

                            </div>
                        </div>

                        <div class="row center">
                            @Html.ActionLink("Cancelar", "Index", null, new { @class = "waves-effect red-hover btn red accent-4" })
                            <button type="submit" class="btn waves-effect waves-light turq btn-login modal-trigger">Crear</button>

                        </div>
                        <div class="margin-b section">
                        </div>


                    }
                </div>
            </div>

        </div>

    }
    else
    {
        <div class="row container center top-m-block">

            <div class="card hoverable s10 section">

                <h3>Lo sentimos.<br />Debes iniciar sesión como <span class="red-text"> jefe </span> para crear un proyecto.</h3>
                <i class="large material-icons red-text">block</i>

            </div>
        </div>
    }


}


<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
